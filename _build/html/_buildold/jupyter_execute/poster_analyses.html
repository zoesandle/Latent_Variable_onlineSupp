
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Analyses of CU/Psychopathic trait subgroup for latent variable modeling systematic review &#8212; Latent Variable Modeling in Psychopathy - Poster</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_buildold/jupyter_execute/poster_analyses';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/samba.png" class="logo__image only-light" alt="Latent Variable Modeling in Psychopathy - Poster - Home"/>
    <script>document.write(`<img src="../../_static/samba.png" class="logo__image only-dark" alt="Latent Variable Modeling in Psychopathy - Poster - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to Supplemental Materials for SSSP ECE Poster Session 2025
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../sankey.html">Supplemental Materials</a></li>






</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/zoesandle/zoesandle1.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/zoesandle/zoesandle1.github.io/issues/new?title=Issue%20on%20page%20%2F_buildold/jupyter_execute/poster_analyses.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/_buildold/jupyter_execute/poster_analyses.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Analyses of CU/Psychopathic trait subgroup for latent variable modeling systematic review</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="analyses-of-cu-psychopathic-trait-subgroup-for-latent-variable-modeling-systematic-review">
<h1>Analyses of CU/Psychopathic trait subgroup for latent variable modeling systematic review<a class="headerlink" href="#analyses-of-cu-psychopathic-trait-subgroup-for-latent-variable-modeling-systematic-review" title="Link to this heading">#</a></h1>
<p>Updated with Winters (2025 study)</p>
<p>This document includes all analyses that I did for the Poster Presentation at the SSSP ECE 2025.</p>
<ol class="arabic simple">
<li><p>study descriptives (years, models, breakdwon of variables and scales), including sankey plots</p></li>
<li><p>chi square/contingency table tests for differences in these groups</p></li>
<li><p>analyses of most frequent models (LPA/LCA; EFA/CFA/SEM; growth models) and the use of variables (directionalities)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### read in data and activate the environmentimport pandas as pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1">#setting wd to where the data is</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;C:/Users/U727148/Desktop/DATA/REVIEW/&#39;</span><span class="p">)</span>
<span class="c1">#reading in data</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;updated_from_cleaned_20250423.xlsx&#39;</span><span class="p">)</span>
<span class="c1">#checking the data</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Unnamed: 0.1  Unnamed: 0  index  \
0           NaN         NaN      1   
1           0.0         0.0      2   
2           1.0         1.0      3   
3           2.0         2.0      4   
4           3.0         3.0      5   

                                                name   f_author  year  \
0  Executive function and underlying brain networ...    Winters  2025   
1  A latent class analysis of cognitive-affective...  Ciesenski  2024   
2  The Inventory of Callous-Unemotional Traits (I...       Kemp  2024   
3  Callous-unemotional traits moderate the associ...   Castagna  2024   
4  Cognitive and social-cognitive factors as medi...       Cohn  2024   

                                         all_authors  \
0  Drew Winters, Jules Dugré, Joseph Sakai, R. Mc...   
1  Ciesinski, Nicole K.; Mccloskey, Michael S.; C...   
2  Emily C. Kemp, James V. Ray, Paul J. Frick, La...   
3  Peter J. Castagna, Dara E. Babinski, Daniel A....   
4                 Jonathan R. Cohn &amp; David C. Cicero   

                                  journal  journal_5_y_if  \
0        PSYCHIATRY RESEARCH-NEUROIMAGING             2.1   
1          Journal of Affective Disorders             5.4   
2                Psychological Assessment             4.9   
3  European Child &amp; Adolescent Psychiatry             5.5   
4                 Psychology, Crime &amp; Law             1.5   

                            Name_dataset  ... gm_counts mit_counts  \
0  Nathan Kline Institute Rockland study  ...       NaN        NaN   
1                                    NaN  ...       1.0        1.0   
2                       Crossroads Study  ...       1.0        2.0   
3                                    NaN  ...       1.0        1.0   
4                                    NaN  ...       1.0        1.0   

   cog_counts beh_counts atool_counts ctool_counts btool_counts  \
0         NaN        NaN          NaN          NaN          NaN   
1         1.0        1.0          1.0          1.0          3.0   
2         0.0        1.0          1.0          0.0          2.0   
3         1.0        1.0          1.0          1.0          1.0   
4         1.0        1.0          1.0          3.0          2.0   

   amodality_counts  cmodality_counts bmodality_counts  
0               NaN               NaN              NaN  
1               1.0               0.0              1.0  
2               1.0               0.0              2.0  
3               1.0               1.0              1.0  
4               1.0               1.0              1.0  

[5 rows x 86 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#making the mean age</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean_numeric&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">mean_age</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean_numeric&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_age_weighted</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean_numeric&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean age of the sample: &quot;</span><span class="p">,</span> <span class="n">mean_age</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Weighted mean age of the sample: &quot;</span><span class="p">,</span> <span class="n">mean_age_weighted</span><span class="p">)</span> <span class="c1">#17.76</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean age of the sample:  20.83530985915493
Weighted mean age of the sample:  17.759201942220958
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#average sample size</span>
<span class="c1">#summing the sample size for each dataset</span>
<span class="n">unique_studies</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Name_dataset&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()][</span><span class="s2">&quot;sample_size&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">grouped_sample_size</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Name_dataset&quot;</span><span class="p">)[</span><span class="s2">&quot;sample_size&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">total_sample_size</span> <span class="o">=</span> <span class="n">unique_studies</span> <span class="o">+</span> <span class="n">grouped_sample_size</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Summed sample: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="c1"># 123,000</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total sample size of the review (studies removed that were used multiple times): &quot;</span><span class="p">,</span> <span class="n">total_sample_size</span><span class="p">)</span>
<span class="n">average_sample_size</span> <span class="o">=</span> <span class="n">total_sample_size</span> <span class="o">/</span> <span class="mi">79</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average sample size of the review: &quot;</span><span class="p">,</span> <span class="n">average_sample_size</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Summed sample:  73833
Total sample size of the review (studies removed that were used multiple times):  62622
Average sample size of the review:  792.6835443037975
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Gender distributions</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender_percent_female&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1">#24 all male studies, 3 all female studies</span>
<span class="n">mean_gender_distribution</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender_percent_female&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_gender_distribution_weighted</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender_percent_female&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean gender distribution: on average &#39;</span><span class="p">,</span>  <span class="n">mean_gender_distribution</span><span class="p">,</span> <span class="s1">&#39; per cent female participants&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean gender distribution weighted by sample size: on average &#39;</span><span class="p">,</span> <span class="n">mean_gender_distribution_weighted</span><span class="p">,</span> <span class="s1">&#39; per cent female participants&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean gender distribution: on average  33.03911392405063  per cent female participants
Mean gender distribution weighted by sample size: on average  34.027835791583705  per cent female participants
</pre></div>
</div>
</div>
</div>
<p>–&gt; overrepresentation of men but this likely represents a real difference in prevalence rates</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Age average </span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no age data</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean_numeric&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="n">mean_age</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean_numeric&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_age_weighted</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_mean_numeric&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean age: on average &#39;</span><span class="p">,</span>  <span class="n">mean_age</span><span class="p">,</span> <span class="s1">&#39; years&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean age weighted by sample size: on average &#39;</span><span class="p">,</span> <span class="n">mean_age_weighted</span><span class="p">,</span> <span class="s1">&#39; years&#39;</span><span class="p">)</span> <span class="c1">#17.76</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean age: on average  20.83530985915493  years
Mean age weighted by sample size: on average  17.759201942220958  years
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Unnamed: 0.1&#39;, &#39;Unnamed: 0&#39;, &#39;index&#39;, &#39;name&#39;, &#39;f_author&#39;, &#39;year&#39;,
       &#39;all_authors&#39;, &#39;journal&#39;, &#39;journal_5_y_if&#39;, &#39;Name_dataset&#39;,
       &#39;region_dataset&#39;, &#39;dataset_notes&#39;, &#39;sample_size&#39;, &#39;age_range&#39;,
       &#39;age_mean&#39;, &#39;age_SD&#39;, &#39;demographics&#39;, &#39;gender_percent_female&#39;,
       &#39;institutional_sample&#39;, &#39;phenotypes&#39;, &#39;p_or_cu&#39;, &#39;assessment_tool&#39;,
       &#39;assessment_type&#39;, &#39;place_in_model&#39;, &#39;cognitive_variable&#39;,
       &#39;cognitive_assessment&#39;, &#39;cognitive_assessment_type&#39;,
       &#39;behavioral_variable &#39;, &#39;behavioral_assessment&#39;,
       &#39;behavioral_assessment_type&#39;, &#39;brain_variable &#39;, &#39;brain_assessment&#39;,
       &#39;ROI&#39;, &#39;dummy_B_C_B&#39;, &#39;feature_predictors&#39;, &#39;design&#39;, &#39;goal&#39;,
       &#39;general_model&#39;, &#39;model_in_text&#39;, &#39;other_analyses&#39;, &#39;no_solution&#39;,
       &#39;groups&#39;, &#39;outcome_comment&#39;, &#39;outcome_variable&#39;, &#39;directionality&#39;,
       &#39;pred_intervall&#39;, &#39;outcome_variable.1&#39;, &#39;outcome_variable_value&#39;,
       &#39;outcome_variable_value_p&#39;, &#39;substance_use&#39;, &#39;substance &#39;,
       &#39;comorbidity&#39;, &#39;comorbidity_type&#39;,
       &#39;Is the research objective clearly stated?&#39;,
       &#39;Is the study population clearly specified and defined (i.e., clearly stated and justified in- and exclusion criteria)?&#39;,
       &#39; Is setting adequately reported (i.e., region(s) of data collection, relevant dates, period of recruitment, use in other studies)?&#39;,
       &#39; Is there a justification for sample size (i.e. power analysis)? Is the sampling procedure adequately explained?&#39;,
       &#39;Is the case definition adequate (i.e. diagnosis is carried out with DSM or ICD or similarly recognized and validated questionnaire)?&#39;,
       &#39;If there is a control group/does the group have sufficient range? is there adequate control of confounding variables e.g. through matching?&#39;,
       &#39; Is missing data/dropout addressed (how is missing data handled, is it reported why data is missing)?&#39;,
       &#39;Are the use of statistical methods adequately justified? are all tests reported?&#39;,
       &#39;Are sample demographics reported adequately?&#39;,
       &#39; Are all results for all variables reported?&#39;,
       &#39;Reported quality or Goodness of fit indices (at least 2, ideally 3)&#39;,
       &#39;quality_score&#39;, &#39;age_range2&#39;, &#39;quality_score2&#39;, &#39;general_model2&#39;,
       &#39;place_in_model2&#39;, &#39;type_color&#39;, &#39;behavioral_variable&#39;, &#39;age_mean_calc&#39;,
       &#39;institutional_sample2&#39;, &#39;brain_variable&#39;, &#39;direction_lowgranular&#39;,
       &#39;nameyear&#39;, &#39;gm_counts&#39;, &#39;mit_counts&#39;, &#39;cog_counts&#39;, &#39;beh_counts&#39;,
       &#39;atool_counts&#39;, &#39;ctool_counts&#39;, &#39;btool_counts&#39;, &#39;amodality_counts&#39;,
       &#39;cmodality_counts&#39;, &#39;bmodality_counts&#39;, &#39;age_mean_numeric&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#make an overview of sample types</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;institutional_sample&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 
<span class="c1">#print percentages of each sample type</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f institutional samples: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;institutional_sample&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 37.97</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;institutional_sample&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1">#60.75</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>% of institutional samples:  37.9746835443038
% of non-institutional samples:  60.75949367088608
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_institutional</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;institutional_sample&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;gender_percent_female&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>gender_percent_female
0.0      16
100.0     2
41.5      1
47.7      1
19.4      1
23.3      1
42.5      1
42.6      1
10.0      1
57.6      1
29.6      1
47.2      1
17.2      1
24.1      1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>design
cross sectional    37
psychometric       17
longitudinal       17
experimental        8
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#print percentages of each design type</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f cross-sectional studies: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 49.37</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f longitudinal studies: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 21.52</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f psychometric studies: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 18.99</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f experimental studies: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 10.13</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>% of cross-sectional studies:  46.835443037974684
% of longitudinal studies:  21.518987341772153
% of psychometric studies:  21.518987341772153
% of experimental studies:  10.126582278481013
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\2384780223.py:2: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of cross-sectional studies: &quot;, df[&#39;design&#39;].value_counts(normalize=True)[0] * 100) # 49.37
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\2384780223.py:3: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of longitudinal studies: &quot;, df[&#39;design&#39;].value_counts(normalize=True)[1] * 100) # 21.52
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\2384780223.py:4: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of psychometric studies: &quot;, df[&#39;design&#39;].value_counts(normalize=True)[2] * 100) # 18.99
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\2384780223.py:5: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of experimental studies: &quot;, df[&#39;design&#39;].value_counts(normalize=True)[3] * 100) # 10.13
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#looking at cross-sectional studies only</span>
<span class="n">df_cross</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;cross sectional&#39;</span><span class="p">)]</span>
<span class="n">df_cross</span><span class="p">[</span><span class="s1">&#39;goal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no goal data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>goal
structure                 29
structure; association     5
association                2
brain structure            1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#looking at cross-sectional studies only</span>
<span class="n">df_psych</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;psychometric&#39;</span><span class="p">)]</span>
<span class="n">df_psych</span><span class="p">[</span><span class="s1">&#39;goal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no goal data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>goal
validation                       7
structure                        5
structure; association           2
scale development; validation    1
structure; validation            1
association                      1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psych</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no model data </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
factor analysis                                                                12
factor analysis; latent class analysis                                          2
principal component analysis; factor analysis; latent class analysis            1
factor analysis; principal component analysis; structural equation modeling     1
structural equation modeling                                                    1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_long</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;longitudinal&#39;</span><span class="p">)]</span>
<span class="n">df_long</span><span class="p">[</span><span class="s1">&#39;goal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no goal data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>goal
development                9
structure                  4
prediction                 3
prediction; development    1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_long</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
growth model                    11
latent class analysis            5
structural equation modeling     1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_exp</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;experimental&#39;</span><span class="p">)]</span>
<span class="n">df_exp</span><span class="p">[</span><span class="s1">&#39;goal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>goal
association                    4
cu traits as mediator          1
reward learning differences    1
brain structure                1
structure                      1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_exp</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
fMRI task                 5
computational modeling    2
factor analysis           1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 
<span class="c1">#make noninstitutional df</span>
<span class="n">df_noninstitutional</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;institutional_sample&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#calculate percentage of designs in both samples:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f cross-sectional studies in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 49.37</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f longitudinal studies in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 21.52</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f psychometric studies in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 18.99</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f experimental studies in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 10.13</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f cross-sectional studies in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 49.37</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f longitudinal studies in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 21.52</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f psychometric studies in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 18.99</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f experimental studies in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 10.13</span>

<span class="c1">#% of cross-sectional studies in institutional samples:  56.666666666666664</span>
<span class="c1">#% of longitudinal studies in institutional samples:  20.0</span>
<span class="c1">#% of psychometric studies in institutional samples:  16.666666666666664</span>
<span class="c1">#% of experimental studies in institutional samples:  6.666666666666667</span>
<span class="c1">#% of cross-sectional studies in non-institutional samples:  41.66666666666667</span>
<span class="c1">#% of longitudinal studies in non-institutional samples:  25.0</span>
<span class="c1">#% of psychometric studies in non-institutional samples:  20.833333333333336</span>
<span class="c1">#% of experimental studies in non-institutional samples:  12.5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>% of cross-sectional studies in institutional samples:  56.666666666666664
% of longitudinal studies in institutional samples:  20.0
% of psychometric studies in institutional samples:  16.666666666666664
% of experimental studies in institutional samples:  6.666666666666667
% of cross-sectional studies in non-institutional samples:  41.66666666666667
% of longitudinal studies in non-institutional samples:  25.0
% of psychometric studies in non-institutional samples:  20.833333333333336
% of experimental studies in non-institutional samples:  12.5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:2: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of cross-sectional studies in institutional samples: &quot;, df_institutional[&#39;design&#39;].value_counts(normalize=True)[0] * 100) # 49.37
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:3: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of longitudinal studies in institutional samples: &quot;, df_institutional[&#39;design&#39;].value_counts(normalize=True)[1] * 100) # 21.52
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:4: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of psychometric studies in institutional samples: &quot;, df_institutional[&#39;design&#39;].value_counts(normalize=True)[2] * 100) # 18.99
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:5: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of experimental studies in institutional samples: &quot;, df_institutional[&#39;design&#39;].value_counts(normalize=True)[3] * 100) # 10.13
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:7: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of cross-sectional studies in non-institutional samples: &quot;, df_noninstitutional[&#39;design&#39;].value_counts(normalize=True)[0] * 100) # 49.37
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:8: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of longitudinal studies in non-institutional samples: &quot;, df_noninstitutional[&#39;design&#39;].value_counts(normalize=True)[1] * 100) # 21.52
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:9: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of psychometric studies in non-institutional samples: &quot;, df_noninstitutional[&#39;design&#39;].value_counts(normalize=True)[2] * 100) # 18.99
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\60852379.py:10: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of experimental studies in non-institutional samples: &quot;, df_noninstitutional[&#39;design&#39;].value_counts(normalize=True)[3] * 100) # 10.13
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
latent class analysis                                                   15
factor analysis                                                          5
computational modeling                                                   2
structural equation modeling                                             2
growth model                                                             2
factor analysis; latent class analysis                                   2
factor analysis; structural equation modeling; latent class analysis     1
clustering                                                               1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f LCA studies in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 49.37</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f FA in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 21.52</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f modeling, SEM, growth model in institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_institutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 21.52</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f LCA in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 49.37</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f FA &amp; growth models studies in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 21.52</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f SEM in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 18.99</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f fMRI task  in non-institutional samples: &quot;</span><span class="p">,</span> <span class="n">df_noninstitutional</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># 10.13</span>

<span class="c1">#% of LCA studies in institutional samples:  50.0</span>
<span class="c1">#% of FA in institutional samples:  16.666666666666664</span>
<span class="c1">#% of modeling, SEM, growth model in institutional samples:  6.666666666666664</span>

<span class="c1">#% of LCA in non-institutional samples:  29.166666666666668</span>
<span class="c1">#% of FA &amp; growth models studies in non-institutional samples:  18.75</span>
<span class="c1">#% of SEM in non-institutional samples:  12.5</span>
<span class="c1">#% of fMRI task  in non-institutional samples:  10.4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>% of LCA studies in institutional samples:  50.0
% of FA in institutional samples:  16.666666666666664
% of modeling, SEM, growth model in institutional samples:  6.666666666666667
% of LCA in non-institutional samples:  29.166666666666668
% of FA &amp; growth models studies in non-institutional samples:  18.75
% of SEM in non-institutional samples:  12.5
% of fMRI task  in non-institutional samples:  10.416666666666668
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:1: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of LCA studies in institutional samples: &quot;, df_institutional[&#39;general_model&#39;].value_counts(normalize=True)[0] * 100) # 49.37
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:2: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of FA in institutional samples: &quot;, df_institutional[&#39;general_model&#39;].value_counts(normalize=True)[1] * 100) # 21.52
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:3: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of modeling, SEM, growth model in institutional samples: &quot;, df_institutional[&#39;general_model&#39;].value_counts(normalize=True)[2] * 100) # 21.52
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:5: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of LCA in non-institutional samples: &quot;, df_noninstitutional[&#39;general_model&#39;].value_counts(normalize=True)[0] * 100) # 49.37
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:6: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of FA &amp; growth models studies in non-institutional samples: &quot;, df_noninstitutional[&#39;general_model&#39;].value_counts(normalize=True)[1] * 100) # 21.52
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:7: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of SEM in non-institutional samples: &quot;, df_noninstitutional[&#39;general_model&#39;].value_counts(normalize=True)[3] * 100) # 18.99
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\59232553.py:8: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  print(&quot;% of fMRI task  in non-institutional samples: &quot;, df_noninstitutional[&#39;general_model&#39;].value_counts(normalize=True)[4] * 100) # 10.13
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Variable types summaries! p/cu, cognitive, behavioral, and brain</span>
<span class="c1">#starting with p/cu</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 
<span class="c1">#does this map onto the age of the sample? </span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 60% p, 40% cu</span>
<span class="c1">#p_or_cu</span>
<span class="c1">#psychopathic traits               0.531646</span>
<span class="c1">#cu traits                         0.430380</span>
<span class="c1"># cu traits; psychopathic traits    0.037975</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_range&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="c1">#adolescents                  0.291139</span>
<span class="c1">#adults                       0.240506</span>
<span class="c1">#children                     0.215190</span>
<span class="c1">#young adults                 0.126582</span>
<span class="c1">#children; adolescents        0.063291</span>
<span class="c1">#adolescents; young adults    0.037975</span>
<span class="c1">#young adults; adults         0.025316</span>
<span class="c1"># 12 percent mixed ages, these are the longitudinal studies</span>
<span class="c1">#there are 38% of studies with &gt;18 participants, possibly up to 41% when considering the samples from the longitudinal studies</span>
<span class="c1"># however 53% of studies look at psychopathic traits! so there are a few studies that look at participants below 18 and yet call them psychopathic traits</span>
<span class="c1">#let&#39;s have a closer look at those studies</span>
<span class="c1">#filter by p_or_cu == &#39;psychopathic traits&#39; and age_range == [&#39;children&#39;, &#39;adolescents&#39;, &#39;children; adolescents&#39;]</span>
<span class="n">df_filter</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;psychopathic traits&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age_range&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="s1">&#39;adolescents&#39;</span><span class="p">,</span> <span class="s1">&#39;children; adolescents&#39;</span><span class="p">]))]</span>
<span class="n">df_filter</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>19    Antisocial Process Screening Device (APSD)
30     Child Problematic Traits Inventory (CPTI)
46        Psychopathy Checklist: Revised (PCL-R)
48     Youth Psychopathic Traits Inventory (YPI)
50     Youth Psychopathic Traits Inventory (YPI)
52     Youth Psychopathic Traits Inventory (YPI)
73        Psychopathy Checklist: Revised (PCL-R)
74     Youth Psychopathic Traits Inventory (YPI)
78        Psychopathy Checklist: Revised (PCL-R)
Name: assessment_tool, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Looking closer at the use of psychopathic traits in youth.</p>
<ol class="arabic simple">
<li><p>Colins 2022: Specifically looks at the use of psychopathic rather than CU traits as a measure of recidivism prediction in detained girls. Specifically talk about putative psychopathic personality. Finding: PPP is not incrementally predictive of rearrests &lt;18 years old above past arrests.</p></li>
<li><p>Lopez-Romero 2021: specifically looked at the viability of considering psychopathic as opposed to CU traits in youth</p></li>
<li><p>Waller 2019: used PCL-R youth version (factor 1/2 for prediction of behavior)</p></li>
<li><p>Colins 2018: used YPTI</p></li>
<li><p>Adjorlolo 2018: used YPTI</p></li>
<li><p>Dubas 2018: used YPTI</p></li>
<li><p>Kimonis 2011: used PCL-R youth version</p></li>
<li><p>Nijhof 2011: used YPTI</p></li>
<li><p>Vitacco 2006: used PCL-R youth version</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Do people use different designs for p or cu traits? </span>
<span class="n">df_psychopathic</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;psychopathic traits&#39;</span><span class="p">]</span>
<span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no design data</span>
<span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>

<span class="n">df_callous</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;cu traits&#39;</span><span class="p">]</span>
<span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>design
cross sectional    0.411765
longitudinal       0.264706
experimental       0.235294
psychometric       0.088235
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>design
cross sectional    0.547619
psychometric       0.309524
longitudinal       0.142857
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
latent class analysis                                                          0.404762
factor analysis                                                                0.261905
structural equation modeling                                                   0.142857
growth model                                                                   0.071429
factor analysis; latent class analysis                                         0.047619
factor analysis; principal component analysis; structural equation modeling    0.023810
factor analysis; structural equation modeling; latent class analysis           0.023810
clustering                                                                     0.023810
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Looking at how many studies reported multiple cognitive variables</span>
<span class="c1">#count entries by semicolon</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no cognitive variable data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_variable
aggression                                                                 13
externalizing behavior                                                     12
conduct problems                                                            9
criminal behavior                                                           9
aggression; externalizing behavior                                          4
criminal behavior; substance use                                            3
criminal behavior; externalizing behavior                                   2
criminal behavior; externalizing behavior; substance use                    2
aggression; substance use                                                   2
conduct problems; externalizing behavior                                    1
workplace deviance                                                          1
ADHD symptoms; substance use                                                1
criminal behavior; marijuana use                                            1
behavioral inhibition; ASPD symptoms                                        1
clinical diagnosis; externalizing behavior; substance use                   1
sexual violence                                                             1
ADHD symptoms; conduct problems                                             1
aggression; criminal behavior; externalizing behavior; substance use        1
substance use; risky sexual behavior                                        1
aggression; criminal behavior                                               1
conduct problems; substance use; criminal behavior                          1
aggression; conduct problems; criminal behavior; substance use              1
conduct problems; criminal behavior; externalizing behavior                 1
externalizing behavior; substance use                                       1
conduct problems; criminal behavior                                         1
aggression; conduct problems                                                1
externalizing behavior; criminal behavior; ADHD symptoms; substance use     1
clinical diagnosis; externalizing behavior                                  1
criminal behavior; substance use; aggression                                1
substance use; prison behavior                                              1
aggression; prison behavior                                                 1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
latent class analysis                                                   0.352941
growth model                                                            0.176471
fMRI task                                                               0.147059
factor analysis                                                         0.117647
computational modeling                                                  0.058824
structural equation modeling                                            0.058824
factor analysis; latent class analysis                                  0.029412
graph analysis                                                          0.029412
principal component analysis; factor analysis; latent class analysis    0.029412
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Interesting! Seems like cross-sectional and psychometric designs are more common in studies investigating psychopathic traits.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cognitive_assessment_type
self report     0.8125
experimental    0.1250
other report    0.0625
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cognitive_assessment_type
experimental                  0.421053
self report                   0.263158
other report                  0.157895
self report; other report     0.052632
experimental; other report    0.052632
experimental; self report     0.052632
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>#cognitive_variable&amp;callous value counts
#not assessed                                  16
#reward/punishment learning                     5
#impulsivity                                    3
#executive function                             2
#drift rate                                     1
#general cognitive ability                      1
#empathy                                        1
#Inhibition                                     1
#self control                                   1
#self control; impulsivity                      1
#executive function; impulsivity                1
#impulsivity; sensation seeking; aggression     1</p>
<p>#cog var and psychopathic value counts
#not assessed                                             28
#impulsivity                                               8
#self control                                              2
#executive function                                        2
#disinhibition                                             1
#empathy; self control; sensation seeking; impulsivity     1</p>
<p>types for callous:
cognitive_assessment_type
experimental                  0.421053
self report                   0.263158
other report                  0.157895
self report; other report     0.052632
experimental; other report    0.052632
experimental; self report     0.052632</p>
<p>types for psychopathy:
cognitive_assessment_type
self report     0.8125
experimental    0.1250
other report    0.0625</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_qual_psychopathic</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;quality_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_qual_psychopathic_weighted</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;quality_score&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean quality score of psychopathic traits studies: &#39;</span><span class="p">,</span> <span class="n">mean_qual_psychopathic</span><span class="p">)</span> <span class="c1"># 4.5</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean quality score of psychopathic traits studies weighted by sample size: &#39;</span><span class="p">,</span> <span class="n">mean_qual_psychopathic_weighted</span><span class="p">)</span> <span class="c1"># 4.5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean quality score of psychopathic traits studies: 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 16.547619047619047
Mean quality score of psychopathic traits studies weighted by sample size:  17.061748400852878
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_qual_call</span> <span class="o">=</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;quality_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">mean_qual_call_weighted</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;quality_score&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;sample_size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean quality score of cu traits studies: &#39;</span><span class="p">,</span> <span class="n">mean_qual_call</span><span class="p">)</span> <span class="c1"># 4.5</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean quality score of cu traits studies weighted by sample size: &#39;</span><span class="p">,</span> <span class="n">mean_qual_call_weighted</span><span class="p">)</span> <span class="c1"># 4.5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean quality score of cu traits studies:  17.41176470588235
Mean quality score of cu traits studies weighted by sample size:  18.365441137177363
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_variable
externalizing behavior                                                     0.242424
conduct problems                                                           0.242424
aggression                                                                 0.121212
aggression; externalizing behavior                                         0.090909
criminal behavior                                                          0.060606
conduct problems; externalizing behavior                                   0.030303
clinical diagnosis; externalizing behavior                                 0.030303
externalizing behavior; criminal behavior; ADHD symptoms; substance use    0.030303
conduct problems; criminal behavior; externalizing behavior                0.030303
ADHD symptoms; conduct problems                                            0.030303
criminal behavior; substance use                                           0.030303
clinical diagnosis; externalizing behavior; substance use                  0.030303
ADHD symptoms; substance use                                               0.030303
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_variable
aggression                                                              0.214286
criminal behavior                                                       0.166667
externalizing behavior                                                  0.071429
criminal behavior; substance use                                        0.047619
criminal behavior; externalizing behavior                               0.047619
criminal behavior; externalizing behavior; substance use                0.047619
aggression; substance use                                               0.047619
workplace deviance                                                      0.023810
criminal behavior; marijuana use                                        0.023810
behavioral inhibition; ASPD symptoms                                    0.023810
sexual violence                                                         0.023810
aggression; criminal behavior; externalizing behavior; substance use    0.023810
substance use; risky sexual behavior                                    0.023810
externalizing behavior; substance use                                   0.023810
aggression; criminal behavior                                           0.023810
aggression; conduct problems; criminal behavior; substance use          0.023810
aggression; conduct problems                                            0.023810
criminal behavior; substance use; aggression                            0.023810
substance use; prison behavior                                          0.023810
conduct problems; substance use; criminal behavior                      0.023810
conduct problems; criminal behavior                                     0.023810
aggression; prison behavior                                             0.023810
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#explode the behavioral variable to get the different variables in the same column, stripping unnecessary spaces</span>
<span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># remove spaces</span>
<span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df_psychopathic_exploded</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">)</span>
<span class="n">df_psychopathic_exploded</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\1795043487.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_psychopathic[&#39;behavioral_variable&#39;] = df_psychopathic[&#39;behavioral_variable&#39;].str.replace(&#39; &#39;, &#39;&#39;) # remove spaces
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\1795043487.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_psychopathic[&#39;behavioral_variable&#39;] = df_psychopathic[&#39;behavioral_variable&#39;].str.split(&#39;;&#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_variable
criminalbehavior         0.281690
aggression               0.239437
substanceuse             0.183099
externalizingbehavior    0.126761
conductproblems          0.056338
prisonbehavior           0.028169
workplacedeviance        0.014085
riskysexualbehavior      0.014085
sexualviolence           0.014085
behavioralinhibition     0.014085
ASPDsymptoms             0.014085
marijuanause             0.014085
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#explode the behavioral variable to get the different variables in the same column, stripping unnecessary spaces</span>
<span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># remove spaces</span>
<span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df_call_exploded</span> <span class="o">=</span> <span class="n">df_callous</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">)</span>
<span class="n">df_call_exploded</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\3497889203.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_callous[&#39;behavioral_variable&#39;] = df_callous[&#39;behavioral_variable&#39;].str.replace(&#39; &#39;, &#39;&#39;) # remove spaces
C:\Users\U727148\AppData\Local\Temp\ipykernel_57200\3497889203.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_callous[&#39;behavioral_variable&#39;] = df_callous[&#39;behavioral_variable&#39;].str.split(&#39;;&#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_variable
externalizingbehavior    0.333333
conductproblems          0.229167
aggression               0.145833
criminalbehavior         0.104167
substanceuse             0.083333
ADHDsymptoms             0.062500
clinicaldiagnosis        0.041667
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Series([], Name: count, dtype: int64)
</pre></div>
</div>
</div>
</div>
<p>Callous-Unemotional traits are way more likely to be studied with more neutral terms whereas psychopathy is most commonly studied in connection with aggression and criminal behavior</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>brain_variable
fMRI            0.666667
rs-fMRI         0.166667
fMRI in ROIs    0.166667
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Studies investigating CU-traits are generally: higher in quality, more likely to have assessed cognitive variables and brain variables, more likely to have assessed <em>multiple</em> cognitive variables, WAY more likely to have assessed those variables experimentally and with multiple assessment types rather than with self report only (81% of psychopathy studies investigating cognitive variables assessed them using only self report vs only 26% of cu-trait studies).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Now lets look at cognitive variables!</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cognitive_variable
not assessed                                             47
impulsivity                                              11
reward/punishment learning                                5
executive function                                        4
self control                                              3
drift rate                                                1
disinhibition                                             1
general cognitive ability                                 1
empathy                                                   1
empathy; self control; sensation seeking; impulsivity     1
Inhibition                                                1
self control; impulsivity                                 1
executive function; impulsivity                           1
impulsivity; sensation seeking; aggression                1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>\
<span class="c1">#Exploding cognitive variables</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># remove spaces</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df_exploded</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">)</span>
<span class="n">df_exploded</span><span class="p">[</span><span class="s1">&#39;cognitive_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cognitive_variable
notassessed                  0.546512
impulsivity                  0.174419
executivefunction            0.058140
reward/punishmentlearning    0.058140
selfcontrol                  0.058140
empathy                      0.023256
sensationseeking             0.023256
driftrate                    0.011628
disinhibition                0.011628
generalcognitiveability      0.011628
Inhibition                   0.011628
aggression                   0.011628
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>\
<span class="c1">#Exploding behav variables</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># remove spaces</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df_exploded</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">)</span>
<span class="n">df_exploded</span><span class="p">[</span><span class="s1">&#39;behavioral_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_variable
externalizingbehavior    0.219512
aggression               0.203252
criminalbehavior         0.203252
substanceuse             0.138211
conductproblems          0.130081
ADHDsymptoms             0.024390
prisonbehavior           0.016260
clinicaldiagnosis        0.016260
workplacedeviance        0.008130
riskysexualbehavior      0.008130
sexualviolence           0.008130
behavioralinhibition     0.008130
ASPDsymptoms             0.008130
marijuanause             0.008130
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Exploding brain variables</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># remove spaces</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df_exploded</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">)</span>
<span class="n">df_exploded</span><span class="p">[</span><span class="s1">&#39;brain_variable&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>brain_variable
fMRI          0.666667
rs-fMRI       0.166667
fMRIinROIs    0.166667
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>That is not surprising at all actually.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>assessment_tool
Inventory of Callous-Unemotional Traits (ICU)                                                          0.529412
ABCD cu trait scale (SDQ/CBCL)                                                                         0.088235
Youth Psychopathic Traits Inventory (YPI)                                                              0.058824
Child Problematic Traits Inventory (CPTI)                                                              0.058824
Antisocial Process Screening Device (APSD)                                                             0.058824
Psychopathy Checklist: Revised (PCL-R)                                                                 0.029412
Proposed Specifiers for Conduct Disorder Scale (PSDC)                                                  0.029412
Psychopathy Checklist: Revised (PCL-R); Hurtful and Uncaring Behavior Scale (HUB)                      0.029412
Teacher Report Form Interpersonal Calloussness (TRF-IC); Self Report Psychopathy Scale (SRP)           0.029412
Achenbach System of Empirically Based Assessment (ASEBA); Youth Psychopathic Traits Inventory (YPI)    0.029412
Callous-Unemotional Traits—Brief Measure (3 items)                                                     0.029412
Antisocial Process Screening Device (APSD); Strengths and Difficulties Questionnaire (SDQ)             0.029412
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Assuming df_lca_outcomes is your DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">df_lca_outcomes</span><span class="p">[</span><span class="s1">&#39;solution (no. of groups and distribution)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Define pastel colors</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#FFC1C1&#39;</span><span class="p">,</span> <span class="s1">&#39;#FF6961&#39;</span><span class="p">,</span> <span class="s1">&#39;#FFB2A7&#39;</span><span class="p">,</span> <span class="s1">&#39;#FFDAC1&#39;</span><span class="p">,</span> <span class="s1">&#39;#FF928B&#39;</span><span class="p">]</span>

<span class="c1"># Create the pie chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">textprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>


<span class="c1"># Add a title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution of Number of Classes&#39;</span><span class="p">)</span>

<span class="c1"># Show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">43</span><span class="p">],</span> <span class="n">line</span> <span class="mi">5</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># Assuming df_lca_outcomes is your DataFrame</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df_lca_outcomes</span><span class="p">[</span><span class="s1">&#39;solution (no. of groups and distribution)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="c1"># Define pastel colors</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#FFC1C1&#39;</span><span class="p">,</span> <span class="s1">&#39;#FF6961&#39;</span><span class="p">,</span> <span class="s1">&#39;#FFB2A7&#39;</span><span class="p">,</span> <span class="s1">&#39;#FFDAC1&#39;</span><span class="p">,</span> <span class="s1">&#39;#FF928B&#39;</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;df_lca_outcomes&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Exploding psychopathic tools variables</span>
<span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;; &#39;</span><span class="p">)</span> 
<span class="n">df_Psych_exploded</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">)</span>
<span class="n">df_Psych_exploded</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_37752\2754170503.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_psychopathic[&#39;assessment_tool&#39;] = df_psychopathic[&#39;assessment_tool&#39;].str.split(&#39;; &#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>assessment_tool
Psychopathy Checklist: Revised (PCL-R)                              0.228070
Self Report Psychopathy Scale (SRP)                                 0.157895
Youth Psychopathic Traits Inventory (YPI)                           0.122807
Levenson Self Report Psychopathy Rating scale (LSRP)                0.105263
Triarchic Psychopathy Measure (TriPM)                               0.087719
Psychopathic Personality Inventory (PPI)                            0.070175
Dark Triad Dirty Dozen                                              0.035088
Child Problematic Traits Inventory (CPTI)                           0.017544
Minnesota Temperament Inventory (MTI)                               0.017544
Psychopathic Personality Traits Scale (PPTS)                        0.017544
Comprehensive Assessment of Psychopathic Personality (CAPP)         0.017544
Minnesota Multiphasic Personality Inventory-Triarchic (MMPI-Tri)    0.017544
NEO Five-Factor Inventory (NEO-FFI)                                 0.017544
Short Psychopathy Rating Scale (SPRS)                               0.017544
Antisocial Process Screening Device (APSD)                          0.017544
Short Dark Tetrad (SD4)                                             0.017544
Elemental Psychopathy Assessment (EPA)                              0.017544
Psychoapthic Personality Inventory (PPI)                            0.017544
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Exploding callpus assessment tool variables</span>
<span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;; &#39;</span><span class="p">)</span> 
<span class="n">df_call_exploded</span> <span class="o">=</span> <span class="n">df_callous</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">)</span>
<span class="n">df_call_exploded</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_37752\1316207933.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_callous[&#39;assessment_tool&#39;] = df_callous[&#39;assessment_tool&#39;].str.split(&#39;; &#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>assessment_tool
Inventory of Callous-Unemotional Traits (ICU)               0.473684
Youth Psychopathic Traits Inventory (YPI)                   0.078947
ABCD cu trait scale (SDQ/CBCL)                              0.078947
Antisocial Process Screening Device (APSD)                  0.078947
Psychopathy Checklist: Revised (PCL-R)                      0.052632
Child Problematic Traits Inventory (CPTI)                   0.052632
Proposed Specifiers for Conduct Disorder Scale (PSDC)       0.026316
Hurtful and Uncaring Behavior Scale (HUB)                   0.026316
Teacher Report Form Interpersonal Calloussness (TRF-IC)     0.026316
Self Report Psychopathy Scale (SRP)                         0.026316
Achenbach System of Empirically Based Assessment (ASEBA)    0.026316
Callous-Unemotional Traits—Brief Measure (3 items)          0.026316
Strengths and Difficulties Questionnaire (SDQ)              0.026316
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_callous</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;; &#39;</span><span class="p">)</span> 
<span class="n">df_Psych_exploded</span> <span class="o">=</span> <span class="n">df_callous</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">)</span>
<span class="n">df_Psych_exploded</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_37752\115406066.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_callous[&#39;behavioral_assessment_type&#39;] = df_callous[&#39;behavioral_assessment_type&#39;].str.split(&#39;; &#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_assessment_type
other report           0.452381
self report            0.309524
clinical assessment    0.166667
criminal record        0.047619
observational          0.023810
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;; &#39;</span><span class="p">)</span> 
<span class="n">df_Psych_exploded</span> <span class="o">=</span> <span class="n">df_psychopathic</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">)</span>
<span class="n">df_Psych_exploded</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_37752\1124396358.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_psychopathic[&#39;behavioral_assessment_type&#39;] = df_psychopathic[&#39;behavioral_assessment_type&#39;].str.split(&#39;; &#39;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_assessment_type
self report            0.627451
observational          0.156863
other report           0.058824
clinical assessment    0.058824
criminal record        0.058824
interview              0.039216
Name: proportion, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>And here also we see a higher unification towards one scale in cu traits rather than psychopathic traits! Entropy? Interestengly, when it comes to behavioral_assessment_type, we see a larger share of self report, but this is often mixed with other indicators such as criminal record, clinical assessments, and observational evidence. In CU-traits, we seem to mostly rely on other report (parent/teacher). Multiple assessments are less common.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;Unnamed: 0.1&#39;, &#39;Unnamed: 0&#39;, &#39;index&#39;, &#39;name&#39;, &#39;f_author&#39;, &#39;year&#39;,
       &#39;all_authors&#39;, &#39;journal&#39;, &#39;journal_5_y_if&#39;, &#39;Name_dataset&#39;,
       &#39;region_dataset&#39;, &#39;dataset_notes&#39;, &#39;sample_size&#39;, &#39;age_range&#39;,
       &#39;age_mean&#39;, &#39;age_SD&#39;, &#39;demographics&#39;, &#39;gender_percent_female&#39;,
       &#39;institutional_sample&#39;, &#39;phenotypes&#39;, &#39;p_or_cu&#39;, &#39;assessment_tool&#39;,
       &#39;assessment_type&#39;, &#39;place_in_model&#39;, &#39;cognitive_variable&#39;,
       &#39;cognitive_assessment&#39;, &#39;cognitive_assessment_type&#39;,
       &#39;behavioral_variable &#39;, &#39;behavioral_assessment&#39;,
       &#39;behavioral_assessment_type&#39;, &#39;brain_variable &#39;, &#39;brain_assessment&#39;,
       &#39;ROI&#39;, &#39;dummy_B_C_B&#39;, &#39;feature_predictors&#39;, &#39;design&#39;, &#39;goal&#39;,
       &#39;general_model&#39;, &#39;model_in_text&#39;, &#39;other_analyses&#39;, &#39;groups&#39;,
       &#39;outcome_comment&#39;, &#39;outcome_variable&#39;, &#39;directionality&#39;,
       &#39;pred_intervall&#39;, &#39;outcome_variable.1&#39;, &#39;outcome_variable_value&#39;,
       &#39;outcome_variable_value_p&#39;, &#39;substance_use&#39;, &#39;substance &#39;,
       &#39;comorbidity&#39;, &#39;comorbidity_type&#39;,
       &#39;Is the research objective clearly stated?&#39;,
       &#39;Is the study population clearly specified and defined (i.e., clearly stated and justified in- and exclusion criteria)?&#39;,
       &#39; Is setting adequately reported (i.e., region(s) of data collection, relevant dates, period of recruitment, use in other studies)?&#39;,
       &#39; Is there a justification for sample size (i.e. power analysis)? Is the sampling procedure adequately explained?&#39;,
       &#39;Is the case definition adequate (i.e. diagnosis is carried out with DSM or ICD or similarly recognized and validated questionnaire)?&#39;,
       &#39;If there is a control group/does the group have sufficient range? is there adequate control of confounding variables e.g. through matching?&#39;,
       &#39; Is missing data/dropout addressed (how is missing data handled, is it reported why data is missing)?&#39;,
       &#39;Are the use of statistical methods adequately justified? are all tests reported?&#39;,
       &#39;Are sample demographics reported adequately?&#39;,
       &#39; Are all results for all variables reported?&#39;,
       &#39;Reported quality or Goodness of fit indices (at least 2, ideally 3)&#39;,
       &#39;quality_score&#39;, &#39;age_range2&#39;, &#39;quality_score2&#39;, &#39;general_model2&#39;,
       &#39;place_in_model2&#39;, &#39;type_color&#39;, &#39;behavioral_variable&#39;, &#39;age_mean_calc&#39;,
       &#39;institutional_sample2&#39;, &#39;brain_variable&#39;, &#39;direction_lowgranular&#39;,
       &#39;nameyear&#39;, &#39;gm_counts&#39;, &#39;mit_counts&#39;, &#39;cog_counts&#39;, &#39;beh_counts&#39;,
       &#39;atool_counts&#39;, &#39;ctool_counts&#39;, &#39;btool_counts&#39;, &#39;amodality_counts&#39;,
       &#39;cmodality_counts&#39;, &#39;bmodality_counts&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Next, we make some sankey plots to visualize the data</span>
<span class="c1">#First, we make a sankey plot of the sample types and designs</span>
<span class="c1">#creating a nameyear variable </span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;f_author&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="c1">#creating a sankey plot of the sample types and designs</span>
<span class="n">df_sankey</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Name_dataset&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;design&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;general_model&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;nameyear&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;model_in_text&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;other_analyses&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;p_or_cu&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;directionality&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;assessment_tool&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;assessment_type&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;cognitive_assessment_type&#39;</span><span class="p">,</span>
                <span class="s1">&#39;cognitive_assessment&#39;</span><span class="p">,</span>
                <span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;behavioral_variable&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;behavioral_assessment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no design data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>behavioral_assessment_type
self report                                   33
other report                                  17
clinical assessment                            6
self report; observational                     5
observational                                  3
self report; other report                      3
self report; criminal record                   2
other report; clinical assessment              2
criminal record                                2
clinical assessment; observational             1
interview                                      1
other report; self report; criminal record     1
interview; criminal record                     1
self report; clinical assessment               1
self report; interview                         1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#adding _count variables for each of the columns based on the value counts </span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;Name_dataset_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;Name_dataset&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;Name_dataset&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;design_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;general_model_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;nameyear_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;model_in_text_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;model_in_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;model_in_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;other_analyses_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;other_analyses&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;other_analyses&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;p_or_cu_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;p_or_cu&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;directionality_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;directionality&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;directionality&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;assessment_tool_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;assessment_type_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment_type_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;cognitive_assessment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey</span><span class="p">[</span><span class="s1">&#39;behavioral_assessment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#making subsets of the data for the sankey plots</span>
<span class="n">df_sankey_models</span> <span class="o">=</span> <span class="n">df_sankey</span><span class="p">[[</span><span class="s1">&#39;general_model&#39;</span><span class="p">,</span> <span class="s1">&#39;model_in_text&#39;</span><span class="p">,</span> <span class="s1">&#39;other_analyses&#39;</span><span class="p">,</span> <span class="s1">&#39;nameyear&#39;</span><span class="p">,</span> <span class="s1">&#39;general_model_count&#39;</span><span class="p">,</span> <span class="s1">&#39;model_in_text_count&#39;</span><span class="p">,</span> <span class="s1">&#39;other_analyses_count&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;general_model2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;general_model3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;general_model4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="c1">#do this for model_in_text as well</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;model_in_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="c1">#same for other_analyses</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models</span><span class="p">[</span><span class="s1">&#39;other_analyses&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">transform_df</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">new_rows</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="c1"># Extract the non-NaN values from &#39;c&#39; and &#39;a&#39; columns</span>
        <span class="n">gm</span> <span class="o">=</span> <span class="n">row</span><span class="p">[[</span><span class="s1">&#39;general_model2&#39;</span><span class="p">,</span> <span class="s1">&#39;general_model3&#39;</span><span class="p">,</span> <span class="s1">&#39;general_model4&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">mit</span> <span class="o">=</span> <span class="n">row</span><span class="p">[[</span><span class="s1">&#39;model_in_text2&#39;</span><span class="p">,</span> <span class="s1">&#39;model_in_text3&#39;</span><span class="p">,</span> <span class="s1">&#39;model_in_text4&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">oa</span> <span class="o">=</span> <span class="n">row</span><span class="p">[[</span><span class="s1">&#39;other_analyses2&#39;</span><span class="p">,</span> <span class="s1">&#39;other_analyses3&#39;</span><span class="p">,</span> <span class="s1">&#39;other_analyses4&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

        <span class="c1"># Make sure both lists are the same length by padding with NaN</span>
        <span class="n">max_len</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">gm</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">mit</span><span class="p">))</span>
        <span class="n">gm</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="p">(</span><span class="n">max_len</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">gm</span><span class="p">)))</span>
        <span class="n">mit</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="p">(</span><span class="n">max_len</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">mit</span><span class="p">)))</span>
        <span class="n">oa</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="p">(</span><span class="n">max_len</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">oa</span><span class="p">)))</span>

        <span class="c1"># Create new rows with paired values and the &#39;nameyear&#39;</span>
        <span class="k">for</span> <span class="n">gm</span><span class="p">,</span> <span class="n">mit</span><span class="p">,</span> <span class="n">oa</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">gm</span><span class="p">,</span> <span class="n">mit</span><span class="p">,</span> <span class="n">oa</span><span class="p">):</span>
            <span class="n">new_rows</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">],</span> <span class="n">gm</span><span class="p">,</span> <span class="n">mit</span><span class="p">,</span> <span class="n">oa</span><span class="p">])</span>

    <span class="c1"># Create a new DataFrame from the rows</span>
    <span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">new_rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">,</span> <span class="s1">&#39;gm&#39;</span><span class="p">,</span> <span class="s1">&#39;mit&#39;</span><span class="p">,</span> <span class="s1">&#39;oa&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">result_df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_sankey_models_transformed</span> <span class="o">=</span> <span class="n">transform_df</span><span class="p">(</span><span class="n">df_sankey_models</span><span class="p">)</span>
<span class="n">df_sankey_models_transformed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>nameyear</th>
      <th>gm</th>
      <th>mit</th>
      <th>oa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Winters 2025</td>
      <td>factor analysis</td>
      <td>EF brain model (CFA with connectivity density ...</td>
      <td>connectivity density and interaction (CU &amp; CP)...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ciesenski 2024</td>
      <td>latent class analysis</td>
      <td>latent class analysis</td>
      <td>chi squared test</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Kemp 2024</td>
      <td>factor analysis</td>
      <td>confirmatory factor analysis</td>
      <td>negative binomial regression</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Kemp 2024</td>
      <td>NaN</td>
      <td>multitrait–multimethod (MT-MM) design</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Castagna 2024</td>
      <td>computational modeling</td>
      <td>drift diffusion model</td>
      <td>regression</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>87</th>
      <td>Nijhof 2011</td>
      <td>latent class analysis</td>
      <td>latent class analysis</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Neumann 2010</td>
      <td>structural equation modeling</td>
      <td>structural equation modeling</td>
      <td>correlation</td>
    </tr>
    <tr>
      <th>89</th>
      <td>Blonigen 2010</td>
      <td>factor analysis</td>
      <td>confirmatory factor analysis</td>
      <td>correlation</td>
    </tr>
    <tr>
      <th>90</th>
      <td>Kimonis 2008</td>
      <td>factor analysis</td>
      <td>confirmatory factor analysis</td>
      <td>correlation</td>
    </tr>
    <tr>
      <th>91</th>
      <td>Vitacco 2006</td>
      <td>factor analysis</td>
      <td>confirmatory factor analysis</td>
      <td>correlation</td>
    </tr>
  </tbody>
</table>
<p>92 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#add _count variables for each of the columns based on the value counts</span>
<span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;nameyear_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;oa_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;oa&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;oa&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;structural equation modeling&#39;</span><span class="p">,</span> <span class="s1">&#39;structural equation modeling &#39;</span><span class="p">,</span> <span class="s1">&#39; structural equation modeling&#39;</span><span class="p">],</span> <span class="s1">&#39;SEM&#39;</span><span class="p">)</span>
<span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;latent class analysis&#39;</span><span class="p">,</span> <span class="s1">&#39;latent class analysis &#39;</span><span class="p">,</span> <span class="s1">&#39; latent class analysis&#39;</span><span class="p">],</span> <span class="s1">&#39;LCA&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#read in data for the sankey plot</span>
<span class="n">df_sankey_models_transformed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;dfsankeymodels_updated_20250424.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Assuming df_sankey_models_transformed already exists with &#39;gm&#39;, &#39;mit&#39;, &#39;oa&#39;</span>

<span class="c1"># 1. Create unique labels</span>
<span class="n">labels</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span>
    <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">],</span> 
    <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit&#39;</span><span class="p">],</span> 
    <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;oa&#39;</span><span class="p">]</span>
<span class="p">])</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="c1"># 2. Map labels to indices</span>
<span class="n">label_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">label</span><span class="p">:</span> <span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">)}</span>

<span class="c1"># 3. Define sources, targets, and values</span>
<span class="n">sources</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">label_map</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">+</span> \
          <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">label_map</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">targets</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">label_map</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">+</span> \
          <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;oa&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">label_map</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">values</span> <span class="o">=</span> <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">+</span> \
         <span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;oa_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># 4. Generate pastel colors</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">pastel_color</span><span class="p">():</span>
    <span class="n">r</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;rgba(</span><span class="si">{</span><span class="n">r</span><span class="p">()</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">r</span><span class="p">()</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">r</span><span class="p">()</span><span class="si">}</span><span class="s1">,0.6)&#39;</span>

<span class="n">label_to_color</span> <span class="o">=</span> <span class="p">{</span><span class="n">label</span><span class="p">:</span> <span class="n">pastel_color</span><span class="p">()</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">}</span>
<span class="n">node_color_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">label_to_color</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>

<span class="c1"># 5. Set link colors by source node&#39;s color (first half) and middle node (second half)</span>
<span class="n">link_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">label_to_color</span><span class="p">[</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;gm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> 
               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_sankey_models_transformed</span><span class="p">))]</span> <span class="o">+</span> \
              <span class="p">[</span><span class="n">label_to_color</span><span class="p">[</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;mit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> 
               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_sankey_models_transformed</span><span class="p">))]</span>

<span class="c1"># 7. Create the figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">go</span><span class="o">.</span><span class="n">Sankey</span><span class="p">(</span>
    <span class="n">node</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
        <span class="n">thickness</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">),</span>
        <span class="n">label</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">node_color_list</span><span class="p">,</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;left&quot;</span>
    <span class="p">),</span>
    <span class="n">link</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">sources</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">targets</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">link_colors</span><span class="p">,</span>
        <span class="n">customdata</span><span class="o">=</span><span class="n">df_sankey_models_transformed</span><span class="p">[</span><span class="s1">&#39;nameyear&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">hovertemplate</span><span class="o">=</span><span class="s1">&#39;%</span><span class="si">{customdata}</span><span class="s1">&lt;extra&gt;&lt;/extra&gt;&#39;</span>
    <span class="p">)</span>
<span class="p">)])</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;Sankey Diagram for model types&quot;</span><span class="p">,</span>
    <span class="n">font_size</span><span class="o">=</span><span class="mf">16.5</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
    <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">write_html</span><span class="p">(</span><span class="s2">&quot;_static/sankey_models_plot.html&quot;</span><span class="p">,</span> <span class="n">include_plotlyjs</span><span class="o">=</span><span class="s2">&quot;cdn&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<iframe src="_static/sankey_models_plot.html" width="100%" height="600px" style="border:none;"></iframe><p>The rest of the sankeys I will make for a website that I host on github or smth. I want to move on to a little content analysis yay! the most common thing was LCA specifically LPA. let’s have a closer look at those studies.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no model data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
latent class analysis                                                          29
factor analysis                                                                15
growth model                                                                   11
structural equation modeling                                                    8
fMRI task                                                                       5
factor analysis; latent class analysis                                          4
computational modeling                                                          2
graph analysis                                                                  1
principal component analysis; factor analysis; latent class analysis            1
factor analysis; principal component analysis; structural equation modeling     1
factor analysis; structural equation modeling; latent class analysis            1
clustering                                                                      1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#select all cases of the general model that contain &#39;latent class analysis&#39;</span>
<span class="n">df_lca</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;latent class analysis&#39;</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">df_lca</span><span class="p">[</span><span class="s1">&#39;general_model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no model data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>general_model
latent class analysis                                                   29
factor analysis; latent class analysis                                   4
principal component analysis; factor analysis; latent class analysis     1
factor analysis; structural equation modeling; latent class analysis     1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_lca</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no model data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>assessment_tool
Inventory of Callous-Unemotional Traits (ICU)                                                                            7
Psychopathy Checklist: Revised (PCL-R)                                                                                   6
Youth Psychopathic Traits Inventory (YPI)                                                                                4
Levenson Self Report Psychopathy Rating scale (LSRP)                                                                     3
Psychopathy Checklist: Revised (PCL-R); Self Report Psychopathy Scale (SRP)                                              2
Child Problematic Traits Inventory (CPTI)                                                                                2
Antisocial Process Screening Device (APSD)                                                                               1
ABCD cu trait scale (SDQ/CBCL)                                                                                           1
Proposed Specifiers for Conduct Disorder Scale (PSDC)                                                                    1
Psychopathy Checklist: Revised (PCL-R); Self Report Psychopathy Scale (SRP); Psychopathic Personality Inventory (PPI)    1
Child Psychopathy Scale (CPS); Inventory of Callous-Unemotional Traits (ICU)                                             1
Dark Triad Dirty Dozen                                                                                                   1
Psychopathic Personality Inventory (PPI)                                                                                 1
Self Report Psychopathy Scale (SRP)                                                                                      1
Psychopathic Personality Traits Scale (PPTS)                                                                             1
Achenbach System of Empirically Based Assessment (ASEBA); Youth Psychopathic Traits Inventory (YPI)                      1
Callous-Unemotional Traits—Brief Measure (3 items)                                                                       1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#explode the assessment tool to get the different variables in the same column, stripping unnecessary spaces</span>
<span class="c1">#df_lca[&#39;assessment_tool&#39;] = df_lca[&#39;assessment_tool&#39;].str.replace(&#39; &#39;, &#39;&#39;) # remove spaces</span>
<span class="c1">#df_lca[&#39;assessment_tool&#39;] = df_lca[&#39;assessment_tool&#39;].str.split(&#39;;&#39;)</span>
<span class="c1">#df_lca_exploded = df_lca.explode(&#39;assessment_tool&#39;)</span>
<span class="n">df_lca_exploded</span><span class="p">[</span><span class="s1">&#39;assessment_tool&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\U727148\AppData\Local\Temp\ipykernel_37752\679085752.py:3: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>assessment_tool
Psychopathy Checklist: Revised (PCL-R)                      9
Inventory of Callous-Unemotional Traits (ICU)               7
Youth Psychopathic Traits Inventory (YPI)                   4
 Self Report Psychopathy Scale (SRP)                        3
Levenson Self Report Psychopathy Rating scale (LSRP)        3
Child Problematic Traits Inventory (CPTI)                   2
 Psychopathic Personality Inventory (PPI)                   1
ABCD cu trait scale (SDQ/CBCL)                              1
Antisocial Process Screening Device (APSD)                  1
Proposed Specifiers for Conduct Disorder Scale (PSDC)       1
Child Psychopathy Scale (CPS)                               1
 Inventory of Callous-Unemotional Traits (ICU)              1
Dark Triad Dirty Dozen                                      1
Psychopathic Personality Inventory (PPI)                    1
Self Report Psychopathy Scale (SRP)                         1
Psychopathic Personality Traits Scale (PPTS)                1
Achenbach System of Empirically Based Assessment (ASEBA)    1
 Youth Psychopathic Traits Inventory (YPI)                  1
Callous-Unemotional Traits—Brief Measure (3 items)          1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#making a histogram of gender distribution  </span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_lca</span><span class="p">[</span><span class="s1">&#39;gender_percent_female&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;gender_percent_female&#39;, ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="../../_images/5f0cb3004900802393d8c30b00fc183caa295db29d970f0923d9d8df4c87ad0e.png" src="../../_images/5f0cb3004900802393d8c30b00fc183caa295db29d970f0923d9d8df4c87ad0e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># REad in LCA outcomes</span>
<span class="n">df_lca_outcomes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;LCA_outcomes.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_lca_outcomes</span><span class="p">[</span><span class="s1">&#39;solution (no. of groups and distribution)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>solution (no. of groups and distribution)
4    15
3    11
5     7
2     2
0     1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#MAKE A barplot of the group solutions stacked by institutional sample</span>

<span class="c1"># Simple countplot of the regions</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_lca_outcomes</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;solution (no. of groups and distribution)&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">df_lca_outcomes</span><span class="p">[</span><span class="s1">&#39;solution (no. of groups and distribution)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">df_lca_outcomes</span><span class="p">[</span><span class="s1">&#39;number_of_predictors&#39;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Set2&#39;</span><span class="p">)</span>

<span class="c1"># Add title and axis labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of group solutions&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of groups&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Remove grid for a cleaner look</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Get region counts</span>
<span class="c1">#institution_counts = df_lca_outcomes[&#39;institutional_sample&#39;].value_counts()</span>


<span class="c1"># Create custom legend labels</span>
<span class="c1">#legend_labels = [f&quot;{region}: {count}&quot; for region, count in zip(region_counts.index, region_counts.values)]</span>

<span class="c1"># Add legend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Counts of predictor var&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>

<span class="c1"># Adjust layout</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Show the pl</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/b1ddc061ce94d84eeffe054bdda9f3cfe39d219537d9f262f8beae021edd1861.png" src="../../_images/b1ddc061ce94d84eeffe054bdda9f3cfe39d219537d9f262f8beae021edd1861.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#subsetting for all studies with 4 groups</span>
<span class="n">df_lca_outcomes</span><span class="p">[</span><span class="s1">&#39;number_of_predictors&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># 3 studies with no model data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>number_of_predictors
1    24
2     9
3     2
7     1
4     1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">four</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>nameyear</th>
      <th>region</th>
      <th>age_mean</th>
      <th>sample size</th>
      <th>gender distr. (% f)</th>
      <th>psychopathic or CU trait</th>
      <th>predictor (Scale)</th>
      <th>Unnamed: 7</th>
      <th>predictor (additional variables)</th>
      <th>outcome variables</th>
      <th>model</th>
      <th>solution (no. of groups and distribution)</th>
      <th>group names</th>
      <th>comments</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div></div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./_buildold\jupyter_execute"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Zoé Sandle
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>